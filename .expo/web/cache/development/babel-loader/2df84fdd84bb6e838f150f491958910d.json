{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/vaibhavverma9/Desktop/realtalk-app/dating-app/app/components/homePage/HomeView.tsx\";\nimport React, { useContext, useState, useEffect } from 'react';\nimport HomeContents from \"./HomeContents\";\nimport { useQuery, useLazyQuery } from '@apollo/client';\nimport { GET_VIDEOS, GET_GENDER_GROUP } from \"../../utils/graphql/GraphqlClient\";\nimport { UserIdContext } from \"../../utils/context/UserIdContext\";\nimport { _retrieveGenderGroup, _storeGenderGroup } from \"../../utils/asyncStorage\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { colors } from \"../../styles/colors\";\nexport default function HomeView(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n\n  var _useContext = useContext(UserIdContext),\n      _useContext2 = _slicedToArray(_useContext, 2),\n      userId = _useContext2[0],\n      setUserId = _useContext2[1];\n\n  var limit = 4;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      genderInterest = _useState2[0],\n      setGenderInterest = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      genderGroup = _useState4[0],\n      setGenderGroup = _useState4[1];\n\n  var _useState5 = useState([0]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      groupPreference = _useState6[0],\n      setGroupPreference = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      timedOut = _useState8[0],\n      setTimedOut = _useState8[1];\n\n  var _useState9 = useState(1.0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      lastPerformance = _useState10[0],\n      setLastPerformance = _useState10[1];\n\n  var _useLazyQuery = useLazyQuery(GET_GENDER_GROUP, {\n    onCompleted: function onCompleted(genderGroupData) {\n      var genderGroup = genderGroupData.users[0].group;\n\n      _storeGenderGroup(genderGroup);\n\n      setGenderGroup(genderGroup);\n      assignGenderPreferences(genderGroup);\n    }\n  }),\n      _useLazyQuery2 = _slicedToArray(_useLazyQuery, 2),\n      getGenderGroup = _useLazyQuery2[0],\n      genderGroupData = _useLazyQuery2[1].data;\n\n  useEffect(function () {\n    navigation.addListener('focus', function _callee() {\n      var retrievedGroup;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(_retrieveGenderGroup());\n\n            case 2:\n              retrievedGroup = _context.sent;\n\n              if (retrievedGroup != genderGroup) {\n                setGenderGroup(retrievedGroup);\n                assignGenderPreferences(retrievedGroup);\n              }\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    });\n  }, [navigation]);\n  useEffect(function () {\n    queryVideosInit();\n  }, []);\n\n  function assignGenderPreferences(genderGroup) {\n    if (genderGroup == 1) {\n      setGroupPreference([2, 6]);\n    } else if (genderGroup == 2) {\n      setGroupPreference([1, 3]);\n    } else if (genderGroup == 3) {\n      setGroupPreference([2, 3, 4, 6]);\n    } else if (genderGroup == 4) {\n      setGroupPreference([3, 4]);\n    } else if (genderGroup == 5) {\n      setGroupPreference([5, 6]);\n    } else if (genderGroup == 6) {\n      setGroupPreference([1, 3, 5, 6]);\n    }\n  }\n\n  function queryVideosInit() {\n    var genderGroupLocal;\n    return _regeneratorRuntime.async(function queryVideosInit$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            genderGroupLocal = genderGroup;\n\n            if (!(genderGroupLocal == 0)) {\n              _context2.next = 8;\n              break;\n            }\n\n            _context2.next = 4;\n            return _regeneratorRuntime.awrap(_retrieveGenderGroup());\n\n          case 4:\n            genderGroupLocal = _context2.sent;\n\n            if (genderGroupLocal == 0) {\n              getGenderGroup({\n                variables: {\n                  userId: userId\n                }\n              });\n            } else {\n              _storeGenderGroup(genderGroupLocal);\n\n              setGenderGroup(genderGroupLocal);\n              assignGenderPreferences(genderGroupLocal);\n            }\n\n            _context2.next = 9;\n            break;\n\n          case 8:\n            assignGenderPreferences(genderGroupLocal);\n\n          case 9:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function OutOfUsers() {\n    return React.createElement(View, {\n      style: {\n        height: '100%',\n        justifyContent: 'center',\n        alignItems: 'center',\n        backgroundColor: colors.primaryBlack\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }\n    }, React.createElement(View, {\n      style: {\n        height: '40%',\n        width: '85%',\n        backgroundColor: colors.primaryPurple,\n        borderRadius: 5,\n        padding: 10,\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: {\n        fontSize: 22,\n        fontWeight: 'bold',\n        paddingTop: 15,\n        paddingBottom: 5,\n        color: colors.primaryWhite\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 15\n      }\n    }, \"Out of users!\"), React.createElement(Text, {\n      style: {\n        textAlign: 'center',\n        fontSize: 20,\n        fontWeight: '300',\n        paddingHorizontal: 5,\n        color: colors.primaryWhite\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 15\n      }\n    }, \"Come back tomorrow for more users :)\")));\n  }\n\n  function Loading() {\n    return React.createElement(View, {\n      style: {\n        backgroundColor: '#000',\n        justifyContent: 'center',\n        alignItems: 'center',\n        flex: 1\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 7\n      }\n    }, React.createElement(ActivityIndicator, {\n      size: \"small\",\n      color: \"#eee\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  var _useQuery = useQuery(GET_VIDEOS, {\n    variables: {\n      userId: userId,\n      limit: limit,\n      groupPreference: groupPreference,\n      lastPerformance: lastPerformance\n    }\n  }),\n      loading = _useQuery.loading,\n      error = _useQuery.error,\n      data = _useQuery.data;\n\n  if (loading) {\n    return React.createElement(Loading, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 7\n      }\n    });\n  } else if (error) {\n    return React.createElement(Loading, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 7\n      }\n    });\n  } else if (data) {\n    if (data.usersLocation.length > 0) {\n      return React.createElement(HomeContents, {\n        route: route,\n        navigation: navigation,\n        data: data,\n        limit: limit,\n        groupPreference: groupPreference,\n        lastPerformance: lastPerformance,\n        genderGroup: genderGroup,\n        assignGenderPreferences: assignGenderPreferences,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 9\n        }\n      });\n    } else {\n      return React.createElement(OutOfUsers, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 9\n        }\n      });\n    }\n  } else {\n    return React.createElement(Loading, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 7\n      }\n    });\n  }\n}\nvar styles = StyleSheet.create({\n  addVideoContainer: {\n    backgroundColor: colors.primaryWhite,\n    borderRadius: 5,\n    width: 250,\n    height: 50,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  addVideoText: {\n    fontSize: 17,\n    color: colors.primaryPurple,\n    fontWeight: 'bold'\n  }\n});","map":{"version":3,"sources":["/Users/vaibhavverma9/Desktop/realtalk-app/dating-app/app/components/homePage/HomeView.tsx"],"names":["React","useContext","useState","useEffect","HomeContents","useQuery","useLazyQuery","GET_VIDEOS","GET_GENDER_GROUP","UserIdContext","_retrieveGenderGroup","_storeGenderGroup","colors","HomeView","route","navigation","userId","setUserId","limit","genderInterest","setGenderInterest","genderGroup","setGenderGroup","groupPreference","setGroupPreference","timedOut","setTimedOut","lastPerformance","setLastPerformance","onCompleted","genderGroupData","users","group","assignGenderPreferences","getGenderGroup","data","addListener","retrievedGroup","queryVideosInit","genderGroupLocal","variables","OutOfUsers","height","justifyContent","alignItems","backgroundColor","primaryBlack","width","primaryPurple","borderRadius","padding","fontSize","fontWeight","paddingTop","paddingBottom","color","primaryWhite","textAlign","paddingHorizontal","Loading","flex","loading","error","usersLocation","length","styles","StyleSheet","create","addVideoContainer","addVideoText"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport HomeContents from './HomeContents';\nimport { useQuery, useLazyQuery } from '@apollo/client';\nimport { GET_VIDEOS, GET_GENDER_INTEREST, GET_GENDER_GROUP } from '../../utils/graphql/GraphqlClient';\nimport { UserIdContext } from '../../utils/context/UserIdContext'\nimport { _retrieveLatitude, _retrieveLongitude, _retrieveGender, _storeGender, _retrieveGenderInterest, _storeGenderInterest, _storeLastWatchedUpper, _storeLastWatchedLower, _retrieveLastWatchedUpper, _retrieveLastWatchedLower, _retrieveCollegeLatitude, _storeCollegeLatitude, _retrieveCollegeLongitude, _storeCollegeLongitude, _retrieveGenderGroup, _storeGenderGroup} from '../../utils/asyncStorage'; \nimport { View, ActivityIndicator, Text, StyleSheet, TouchableOpacity } from 'react-native';\nimport { colors } from '../../styles/colors';\nimport { Feather } from '@expo/vector-icons'; \n\nexport default function HomeView({route, navigation}) {\n\n  // const [data, setData] = useState(null); \n  const [userId, setUserId] = useContext(UserIdContext);\n  const limit = 4;\n  \n  const [genderInterest, setGenderInterest] = useState(''); \n  const [genderGroup, setGenderGroup] = useState(0); \n  const [groupPreference, setGroupPreference] = useState([0]); \n  \n  const [timedOut, setTimedOut] = useState(false);\n  // let currentDate = new Date();\n  // const [lastLoaded, setLastLoaded] = useState(currentDate); \n\n  const [lastPerformance, setLastPerformance] = useState(1.0); \n\n\n  const [getGenderGroup, { data: genderGroupData }] = useLazyQuery(GET_GENDER_GROUP, \n    { \n      onCompleted: (genderGroupData) => { \n        let genderGroup = genderGroupData.users[0].group; \n        _storeGenderGroup(genderGroup); \n        setGenderGroup(genderGroup);   \n        assignGenderPreferences(genderGroup); \n      }\n    }); \n\n  useEffect(() => {\n    navigation.addListener('focus', async () => {\n      let retrievedGroup = await _retrieveGenderGroup(); \n      if(retrievedGroup != genderGroup){\n        setGenderGroup(retrievedGroup); \n        assignGenderPreferences(retrievedGroup); \n      }\n    });  \n  }, [navigation]);\n\n  useEffect(() => {\n    queryVideosInit();\n  }, []); \n\n\n  function assignGenderPreferences(genderGroup){\n    if(genderGroup == 1){\n      setGroupPreference([2, 6]); \n    } else if(genderGroup == 2){\n      setGroupPreference([1, 3]); \n    } else if(genderGroup == 3){\n      setGroupPreference([2, 3, 4, 6]); \n    } else if(genderGroup == 4){\n      setGroupPreference([3, 4]); \n    } else if(genderGroup == 5){\n      setGroupPreference([5, 6]); \n    } else if(genderGroup == 6){\n      setGroupPreference([1, 3, 5, 6]); \n    }\n  }\n\n  async function queryVideosInit(){\n    let genderGroupLocal = genderGroup; \n    if(genderGroupLocal == 0){\n      genderGroupLocal = await _retrieveGenderGroup(); \n      if(genderGroupLocal == 0){\n        getGenderGroup({variables: { userId }})\n      } else {\n        _storeGenderGroup(genderGroupLocal); \n        setGenderGroup(genderGroupLocal); \n        assignGenderPreferences(genderGroupLocal); \n      }\n    } else {\n      assignGenderPreferences(genderGroupLocal); \n    }\n  }\n\n  function OutOfUsers(){\n      return (\n        <View style={{ height: '100%', justifyContent: 'center', alignItems: 'center', backgroundColor: colors.primaryBlack }}>\n          <View style={{ height: '40%', width: '85%', backgroundColor: colors.primaryPurple, borderRadius: 5, padding: 10, alignItems: 'center', justifyContent: 'center' }}>\n              <Text style={{ fontSize: 22, fontWeight: 'bold', paddingTop: 15, paddingBottom: 5, color: colors.primaryWhite }}>Out of users!</Text>\n              <Text style={{ textAlign: 'center', fontSize: 20, fontWeight: '300', paddingHorizontal: 5, color: colors.primaryWhite }}>Come back tomorrow for more users :)</Text>\n          </View>\n      </View>     \n      )\n  }\n\n  function Loading(){\n    return (\n      <View style={{ backgroundColor: '#000', justifyContent: 'center', alignItems: 'center', flex: 1}}>\n        <ActivityIndicator size=\"small\" color=\"#eee\" />\n      </View>\n    )  \n  }\n\n  const { loading, error, data } = useQuery(GET_VIDEOS, {\n    variables: { userId, limit, groupPreference, lastPerformance }\n  });\n\n  // useEffect(() => {\n  //   setTimeout(() => { \n  //     if(!data || data.usersLocation.length == 0){\n  //       setTimedOut(true) \n  //     } else {\n  //       setTimedOut(false); \n  //     }\n  //   }, 5000); \n  // }, [data]); \n\n\n  if(loading){\n    return (\n      <Loading />\n    )\n  } else if(error){\n    return (\n      <Loading />\n    )\n  } else if(data){\n    if(data.usersLocation.length > 0){\n      return (\n        <HomeContents \n          route={route}\n          navigation={navigation}\n          data={data}\n          limit={limit}\n          groupPreference={groupPreference}\n          lastPerformance={lastPerformance}\n          genderGroup={genderGroup}\n          assignGenderPreferences={assignGenderPreferences}\n        />\n      )  \n    } else {\n      return (\n        <OutOfUsers />\n      )  \n    }\n  } else {\n    return (\n      <Loading />\n    )\n  }\n\n}\n\nconst styles = StyleSheet.create({\n  addVideoContainer: { \n    backgroundColor: colors.primaryWhite, \n    borderRadius: 5,\n    width: 250,\n    height: 50, \n    justifyContent: 'center', \n    alignItems: 'center'\n  }, \n  addVideoText: {\n      fontSize: 17,\n      color: colors.primaryPurple,\n      fontWeight: 'bold'\n  }\n})"]},"metadata":{},"sourceType":"module"}