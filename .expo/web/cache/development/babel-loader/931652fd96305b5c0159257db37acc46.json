{"ast":null,"code":"import Animated from \"react-native-reanimated\";\nvar set = Animated.set,\n    cond = Animated.cond,\n    add = Animated.add,\n    multiply = Animated.multiply,\n    lessThan = Animated.lessThan,\n    abs = Animated.abs,\n    divide = Animated.divide,\n    sub = Animated.sub,\n    min2 = Animated.min,\n    max2 = Animated.max,\n    reRound = Animated.round,\n    greaterThan = Animated.greaterThan,\n    pow = Animated.pow,\n    and = Animated.and,\n    greaterOrEq = Animated.greaterOrEq,\n    lessOrEq = Animated.lessOrEq,\n    proc = Animated.proc;\nexport var bin = function bin(value) {\n  return value ? 1 : 0;\n};\nexport var inc = proc(function (value) {\n  return set(value, add(value, 1));\n});\nexport var dec = proc(function (value) {\n  return set(value, sub(value, 1));\n});\nexport var min = function min() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return args.reduce(function (acc, arg) {\n    return min2(acc, arg);\n  });\n};\nexport var max = function max() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  return args.reduce(function (acc, arg) {\n    return max2(acc, arg);\n  });\n};\nexport var clamp = proc(function (value, lowerBound, upperBound) {\n  return min2(max2(lowerBound, value), upperBound);\n});\nexport var between = function between(value, lowerBound, upperBound) {\n  var inclusive = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n  if (inclusive) {\n    return and(greaterOrEq(value, lowerBound), lessOrEq(value, upperBound));\n  }\n\n  return and(greaterThan(value, lowerBound), lessThan(value, upperBound));\n};\nexport var approximates = proc(function (a, b) {\n  var precision = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.001;\n  return lessThan(abs(sub(a, b)), precision);\n});\nexport var toRad = proc(function (deg) {\n  return multiply(deg, Math.PI / 180);\n});\nexport var toDeg = proc(function (rad) {\n  return multiply(rad, 180 / Math.PI);\n});\nexport var atan2 = proc(function (y, x) {\n  var coeff1 = Math.PI / 4;\n  var coeff2 = 3 * coeff1;\n  var absY = abs(y);\n  var angle = cond(greaterOrEq(x, 0), [sub(coeff1, multiply(coeff1, divide(sub(x, absY), add(x, absY))))], [sub(coeff2, multiply(coeff1, divide(add(x, absY), sub(absY, x))))]);\n  return cond(lessThan(y, 0), multiply(angle, -1), angle);\n});\nexport var cubicBezier = proc(function (t, p0, p1, p2, p3) {\n  var term = sub(1, t);\n  var a = multiply(1, pow(term, 3), pow(t, 0), p0);\n  var b = multiply(3, pow(term, 2), pow(t, 1), p1);\n  var c = multiply(3, pow(term, 1), pow(t, 2), p2);\n  var d = multiply(1, pow(term, 0), pow(t, 3), p3);\n  return add(a, b, c, d);\n});\nexport var round = proc(function (value) {\n  var precision = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var p = pow(10, precision);\n  return divide(reRound(multiply(value, p)), p);\n});","map":{"version":3,"sources":["Math.ts"],"names":["set","cond","add","multiply","lessThan","abs","divide","sub","min","min2","max","max2","round","reRound","greaterThan","pow","and","greaterOrEq","lessOrEq","proc","Animated","bin","value","inc","dec","args","clamp","between","inclusive","approximates","precision","toRad","Math","toDeg","atan2","coeff1","coeff2","absY","angle","cubicBezier","term","a","b","c","d","p"],"mappings":"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","sourcesContent":["import Animated from \"react-native-reanimated\";\n\nconst {\n  set,\n  cond,\n  add,\n  multiply,\n  lessThan,\n  abs,\n  divide,\n  sub,\n  min: min2,\n  max: max2,\n  round: reRound,\n  greaterThan,\n  pow,\n  and,\n  greaterOrEq,\n  lessOrEq,\n  proc,\n} = Animated;\n\nexport const bin = (value: boolean): 0 | 1 => (value ? 1 : 0);\n\nexport const inc = proc((value: Animated.Value<number>) =>\n  set(value, add(value, 1))\n);\n\nexport const dec = proc((value: Animated.Value<number>) =>\n  set(value, sub(value, 1))\n);\n\nexport const min = (...args: Animated.Adaptable<number>[]) =>\n  args.reduce((acc, arg) => min2(acc, arg));\n\nexport const max = (...args: Animated.Adaptable<number>[]) =>\n  args.reduce((acc, arg) => max2(acc, arg));\n\nexport const clamp = proc(\n  (\n    value: Animated.Adaptable<number>,\n    lowerBound: Animated.Adaptable<number>,\n    upperBound: Animated.Adaptable<number>\n  ): Animated.Node<number> => min2(max2(lowerBound, value), upperBound)\n);\n\nexport const between = (\n  value: Animated.Node<number>,\n  lowerBound: Animated.Adaptable<number>,\n  upperBound: Animated.Adaptable<number>,\n  inclusive = true\n) => {\n  if (inclusive) {\n    return and(greaterOrEq(value, lowerBound), lessOrEq(value, upperBound));\n  }\n  return and(greaterThan(value, lowerBound), lessThan(value, upperBound));\n};\n\nexport const approximates = proc(\n  (\n    a: Animated.Adaptable<number>,\n    b: Animated.Adaptable<number>,\n    precision: Animated.Adaptable<number> = 0.001\n  ) => lessThan(abs(sub(a, b)), precision)\n);\n\nexport const toRad = proc(\n  (deg: Animated.Adaptable<number>): Animated.Node<number> =>\n    multiply(deg, Math.PI / 180)\n);\n\nexport const toDeg = proc(\n  (rad: Animated.Adaptable<number>): Animated.Node<number> =>\n    multiply(rad, 180 / Math.PI)\n);\n\n// https://en.wikipedia.org/wiki/Atan2\n// https://www.gamedev.net/forums/topic/441464-manually-implementing-atan2-or-atan/\n// https://developer.download.nvidia.com/cg/atan2.html\nexport const atan2 = proc(\n  (y: Animated.Adaptable<number>, x: Animated.Adaptable<number>) => {\n    const coeff1 = Math.PI / 4;\n    const coeff2 = 3 * coeff1;\n    const absY = abs(y);\n    const angle = cond(\n      greaterOrEq(x, 0),\n      [sub(coeff1, multiply(coeff1, divide(sub(x, absY), add(x, absY))))],\n      [sub(coeff2, multiply(coeff1, divide(add(x, absY), sub(absY, x))))]\n    );\n    return cond(lessThan(y, 0), multiply(angle, -1), angle);\n  }\n);\n\nexport const cubicBezier = proc(\n  (\n    t: Animated.Adaptable<number>,\n    p0: Animated.Adaptable<number>,\n    p1: Animated.Adaptable<number>,\n    p2: Animated.Adaptable<number>,\n    p3: Animated.Adaptable<number>\n  ): Animated.Node<number> => {\n    const term = sub(1, t);\n    const a = multiply(1, pow(term, 3), pow(t, 0), p0);\n    const b = multiply(3, pow(term, 2), pow(t, 1), p1);\n    const c = multiply(3, pow(term, 1), pow(t, 2), p2);\n    const d = multiply(1, pow(term, 0), pow(t, 3), p3);\n    return add(a, b, c, d);\n  }\n);\n\nexport const round = proc(\n  (\n    value: Animated.Adaptable<number>,\n    precision: Animated.Adaptable<number> = 0\n  ) => {\n    const p = pow(10, precision);\n    return divide(reRound(multiply(value, p)), p);\n  }\n);\n"]},"metadata":{},"sourceType":"module"}