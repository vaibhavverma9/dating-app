{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/vaibhavverma9/Desktop/realtalk-app/dating-app/app/components/homePage/OptionsModal.tsx\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport React from 'react';\nimport { homeStyles } from \"../../styles/homeStyles\";\nimport { UPDATE_VIDEOS, INSERT_BLOCK } from \"../../utils/graphql/GraphqlClient\";\nimport { useMutation } from '@apollo/client';\nexport default function OptionsModal(props) {\n  var _useMutation = useMutation(UPDATE_VIDEOS),\n      _useMutation2 = _slicedToArray(_useMutation, 2),\n      updateVideos = _useMutation2[0],\n      updateVideosData = _useMutation2[1].updateVideosData;\n\n  var _useMutation3 = useMutation(INSERT_BLOCK),\n      _useMutation4 = _slicedToArray(_useMutation3, 2),\n      insertBlock = _useMutation4[0],\n      insertBlockData = _useMutation4[1].insertBlockData;\n\n  function flagPost() {\n    updateVideos({\n      variables: {\n        id: props.videoId,\n        flags: props.flags + 1\n      }\n    });\n    Alert.alert('Thanks for flagging video!', 'We remove any objectable content within 24 hours and eject the user.', [{\n      text: 'Ok!',\n      onPress: function onPress() {\n        return props.setVisible(!props.visible);\n      }\n    }]);\n  }\n\n  function blockPost() {\n    insertBlock({\n      variables: {\n        blockedId: props.currentUserId,\n        blockerId: props.userId\n      }\n    });\n    var filteredUserData = props.videoData.users.filter(function (user) {\n      return user.id !== props.currentUserId;\n    });\n    var filteredVideoData = {\n      'users': filteredUserData\n    };\n    props.setVideoData(filteredVideoData);\n    props.setVisible(!props.visible);\n  }\n\n  function removePost() {\n    insertBlock({\n      variables: {\n        blockedId: props.currentUserId,\n        blockerId: props.userId\n      }\n    });\n    var filteredUserData = props.videoData.users.filter(function (user) {\n      return user.id !== props.currentUserId;\n    });\n    var filteredVideoData = {\n      'users': filteredUserData\n    };\n    props.setVideoData(filteredVideoData);\n    props.setVisible(!props.visible);\n  }\n\n  function cancel() {\n    props.setVisible(!props.visible);\n  }\n\n  return React.createElement(Modal, {\n    animationType: \"slide\",\n    transparent: false,\n    visible: props.visible,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: homeStyles.optionsModalView,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, React.createElement(TouchableHighlight, {\n    onPress: flagPost,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: homeStyles.optionsModalButtons,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, \"Flag Post\")), React.createElement(TouchableHighlight, {\n    onPress: blockPost,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: homeStyles.optionsModalButtons,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, \"Block User\")), React.createElement(TouchableHighlight, {\n    onPress: removePost,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: homeStyles.optionsModalButtons,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, \"Remove Post\")), React.createElement(TouchableHighlight, {\n    onPress: cancel,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: homeStyles.optionsModalButtons,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, \"Cancel\"))));\n}","map":{"version":3,"sources":["/Users/vaibhavverma9/Desktop/realtalk-app/dating-app/app/components/homePage/OptionsModal.tsx"],"names":["React","homeStyles","UPDATE_VIDEOS","INSERT_BLOCK","useMutation","OptionsModal","props","updateVideos","updateVideosData","insertBlock","insertBlockData","flagPost","variables","id","videoId","flags","Alert","alert","text","onPress","setVisible","visible","blockPost","blockedId","currentUserId","blockerId","userId","filteredUserData","videoData","users","filter","user","filteredVideoData","setVideoData","removePost","cancel","optionsModalView","optionsModalButtons"],"mappings":"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","sourcesContent":["import { Text, View, Modal, TouchableHighlight, Alert } from 'react-native';\nimport React from 'react'; \nimport { homeStyles } from '../../styles/homeStyles';\nimport { UPDATE_VIDEOS, INSERT_BLOCK } from '../../utils/graphql/GraphqlClient';\nimport { useMutation } from '@apollo/client';\n\nexport default function OptionsModal(props) {\n  const [updateVideos, { updateVideosData }] = useMutation(UPDATE_VIDEOS);\n  const [insertBlock, { insertBlockData }] = useMutation(INSERT_BLOCK);\n\n  function flagPost(){\n    updateVideos({ variables: {id: props.videoId, flags: props.flags + 1}})\n    Alert.alert(\n      'Thanks for flagging video!', \n      'We remove any objectable content within 24 hours and eject the user.', \n      [{ text: 'Ok!', onPress: () => props.setVisible(!props.visible) }]\n    )\n  }\n\n  function blockPost(){\n    insertBlock({ variables: { blockedId: props.currentUserId, blockerId: props.userId }})\n    const filteredUserData = props.videoData.users.filter(user => user.id !== props.currentUserId);\n    const filteredVideoData = {'users' : filteredUserData}\n    props.setVideoData(filteredVideoData); \n    props.setVisible(!props.visible);\n  }\n\n  function removePost(){\n    insertBlock({ variables: { blockedId: props.currentUserId, blockerId: props.userId }})\n    const filteredUserData = props.videoData.users.filter(user => user.id !== props.currentUserId);\n    const filteredVideoData = {'users' : filteredUserData}\n    props.setVideoData(filteredVideoData); \n    props.setVisible(!props.visible);\n  }\n\n  function cancel(){\n    props.setVisible(!props.visible);\n  }\n\n  return (\n    <Modal\n      animationType=\"slide\"\n      transparent={false}\n      visible={props.visible}>\n      <View style={homeStyles.optionsModalView}>\n        <TouchableHighlight\n          onPress={flagPost}>\n          <Text style={homeStyles.optionsModalButtons}>Flag Post</Text>\n        </TouchableHighlight>\n\n        <TouchableHighlight\n          onPress={blockPost}>\n          <Text style={homeStyles.optionsModalButtons}>Block User</Text>\n        </TouchableHighlight>\n\n        <TouchableHighlight\n          onPress={removePost}>\n          <Text style={homeStyles.optionsModalButtons}>Remove Post</Text>\n        </TouchableHighlight>\n\n        <TouchableHighlight\n          onPress={cancel}>\n          <Text style={homeStyles.optionsModalButtons}>Cancel</Text>\n        </TouchableHighlight>\n      </View>\n    </Modal>\n  )\n}"]},"metadata":{},"sourceType":"module"}