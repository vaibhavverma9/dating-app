{"ast":null,"code":"var _jsxFileName = \"/Users/vaibhavverma9/Desktop/realtalk-app/dating-app/app/components/videosPage/MultipleVideos.tsx\";\nimport React, { useEffect, useMemo } from 'react';\nimport { Video, Audio } from 'expo-av';\nimport View from \"react-native-web/dist/exports/View\";\nexport default function MultipleVideos(props) {\n  var playingData = {\n    isMuted: false,\n    shouldPlay: props.shouldPlay,\n    playbackObject: props.playbackObject,\n    _onPlaybackStatusUpdate: props._onPlaybackStatusUpdate,\n    display: \"flex\"\n  };\n  var nonplayingData = {\n    isMuted: true,\n    shouldPlay: false,\n    playbackObject: null,\n    _onPlaybackStatusUpdate: null,\n    display: \"none\"\n  };\n  useEffect(function () {\n    Audio.setAudioModeAsync({\n      playsInSilentModeIOS: true\n    });\n  }, []);\n  var renderedVideos = [];\n  var videoData = props.videoData;\n  var renderedUserIndex = props.renderedUserIndex;\n  var userIndex = props.userIndex;\n  var videoIndex = props.videoIndex;\n  var userCount = props.userCount;\n\n  if (videoData) {\n    var user = useMemo(function () {\n      return videoData[renderedUserIndex];\n    }, [renderedUserIndex, videoData]);\n\n    if (user) {\n      var videoCount = user.userVideos.length;\n\n      if (userIndex == renderedUserIndex) {\n        var renderedVideoIndexA = videoIndex;\n        var muxPlaybackIdA = user.userVideos[renderedVideoIndexA].muxPlaybackId;\n        var muxPlaybackUrlA = 'https://stream.mux.com/' + muxPlaybackIdA + '.m3u8';\n        renderedVideos.push(React.createElement(PlayingVideo, {\n          key: renderedVideoIndexA,\n          playbackObject: playingData.playbackObject,\n          source: muxPlaybackUrlA,\n          isMuted: playingData.isMuted,\n          shouldPlay: playingData.shouldPlay,\n          _onPlaybackStatusUpdate: playingData._onPlaybackStatusUpdate,\n          display: playingData.display,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 21\n          }\n        }));\n        var renderedVideoIndexB = videoIndex + 1;\n\n        if (renderedVideoIndexB < videoCount) {\n          var muxPlaybackIdB = user.userVideos[renderedVideoIndexB].muxPlaybackId;\n          var muxPlaybackUrlB = 'https://stream.mux.com/' + muxPlaybackIdB + '.m3u8';\n          renderedVideos.push(React.createElement(PlayingVideo, {\n            key: renderedVideoIndexB,\n            playbackObject: nonplayingData.playbackObject,\n            source: muxPlaybackUrlB,\n            isMuted: nonplayingData.isMuted,\n            shouldPlay: nonplayingData.shouldPlay,\n            _onPlaybackStatusUpdate: nonplayingData._onPlaybackStatusUpdate,\n            display: nonplayingData.display,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 25\n            }\n          }));\n        }\n      } else if (renderedUserIndex < userCount) {\n        var renderedVideoIndex = 0;\n        var muxPlaybackId = user.userVideos[renderedVideoIndex].muxPlaybackId;\n        var muxPlaybackUrl = 'https://stream.mux.com/' + muxPlaybackId + '.m3u8';\n        renderedVideos.push(React.createElement(PlayingVideo, {\n          key: renderedVideoIndex,\n          playbackObject: nonplayingData.playbackObject,\n          source: muxPlaybackUrl,\n          isMuted: nonplayingData.isMuted,\n          shouldPlay: nonplayingData.shouldPlay,\n          _onPlaybackStatusUpdate: nonplayingData._onPlaybackStatusUpdate,\n          display: nonplayingData.display,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 21\n          }\n        }));\n      }\n    }\n  }\n\n  return React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, renderedVideos);\n}\n\nfunction PlayingVideo(_ref) {\n  var playbackObject = _ref.playbackObject,\n      source = _ref.source,\n      isMuted = _ref.isMuted,\n      shouldPlay = _ref.shouldPlay,\n      _onPlaybackStatusUpdate = _ref._onPlaybackStatusUpdate,\n      display = _ref.display;\n  var videoStyle = {\n    width: '100%',\n    height: '100%',\n    display: display\n  };\n  return React.createElement(Video, {\n    ref: playbackObject,\n    source: {\n      uri: source\n    },\n    rate: 1.0,\n    volume: 1.0,\n    isMuted: isMuted,\n    resizeMode: \"cover\",\n    usePoster: true,\n    shouldPlay: shouldPlay,\n    onPlaybackStatusUpdate: _onPlaybackStatusUpdate,\n    progressUpdateIntervalMillis: 50,\n    isLooping: true,\n    style: videoStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  });\n}","map":{"version":3,"sources":["/Users/vaibhavverma9/Desktop/realtalk-app/dating-app/app/components/videosPage/MultipleVideos.tsx"],"names":["React","useEffect","useMemo","Video","Audio","MultipleVideos","props","playingData","isMuted","shouldPlay","playbackObject","_onPlaybackStatusUpdate","display","nonplayingData","setAudioModeAsync","playsInSilentModeIOS","renderedVideos","videoData","renderedUserIndex","userIndex","videoIndex","userCount","user","videoCount","userVideos","length","renderedVideoIndexA","muxPlaybackIdA","muxPlaybackId","muxPlaybackUrlA","push","renderedVideoIndexB","muxPlaybackIdB","muxPlaybackUrlB","renderedVideoIndex","muxPlaybackUrl","PlayingVideo","source","videoStyle","width","height","uri"],"mappings":"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","sourcesContent":["\n\nimport React, { useEffect, useRef, useState, useMemo } from 'react'; \nimport { Video, Audio } from 'expo-av';   \nimport { View, Animated } from 'react-native';\n\nexport default function MultipleVideos(props) {\n\n    const playingData = { \n        isMuted: false, \n        shouldPlay: props.shouldPlay, \n        playbackObject: props.playbackObject, \n        _onPlaybackStatusUpdate: props._onPlaybackStatusUpdate, \n        display: \"flex\"\n    }\n\n    const nonplayingData = {\n        isMuted: true, \n        shouldPlay: false, \n        playbackObject: null, \n        _onPlaybackStatusUpdate: null, \n        display: \"none\"\n    }\n\n    useEffect(() => {\n        Audio.setAudioModeAsync({\n            playsInSilentModeIOS: true\n        }); \n    }, []);    \n    \n    const renderedVideos = [];\n    const videoData = props.videoData; \n    const renderedUserIndex = props.renderedUserIndex; \n    const userIndex = props.userIndex; \n    const videoIndex = props.videoIndex;\n    const userCount = props.userCount;\n\n    if(videoData) {\n        const user = useMemo(() => videoData[renderedUserIndex], [renderedUserIndex, videoData]);\n\n        if(user) {\n            const videoCount = user.userVideos.length; \n            if(userIndex == renderedUserIndex){\n                const renderedVideoIndexA = videoIndex; \n\n                const muxPlaybackIdA = user.userVideos[renderedVideoIndexA].muxPlaybackId; \n                const muxPlaybackUrlA = 'https://stream.mux.com/' + muxPlaybackIdA + '.m3u8';\n\n                renderedVideos.push(\n                    <PlayingVideo\n                        key={renderedVideoIndexA}\n                        playbackObject={playingData.playbackObject}\n                        source={muxPlaybackUrlA}\n                        isMuted={playingData.isMuted}\n                        shouldPlay={playingData.shouldPlay}\n                        _onPlaybackStatusUpdate={playingData._onPlaybackStatusUpdate}\n                        display={playingData.display}\n                    />\n                )\n\n                const renderedVideoIndexB = videoIndex + 1; \n\n                if(renderedVideoIndexB < videoCount){\n                    const muxPlaybackIdB = user.userVideos[renderedVideoIndexB].muxPlaybackId; \n                    const muxPlaybackUrlB = 'https://stream.mux.com/' + muxPlaybackIdB + '.m3u8';\n    \n                    renderedVideos.push(\n                        <PlayingVideo\n                            key={renderedVideoIndexB}\n                            playbackObject={nonplayingData.playbackObject}\n                            source={muxPlaybackUrlB}\n                            isMuted={nonplayingData.isMuted}\n                            shouldPlay={nonplayingData.shouldPlay}\n                            _onPlaybackStatusUpdate={nonplayingData._onPlaybackStatusUpdate}\n                            display={nonplayingData.display}\n                        />\n                    )\n                }\n\n            } else if(renderedUserIndex < userCount) {\n                const renderedVideoIndex = 0; \n                const muxPlaybackId = user.userVideos[renderedVideoIndex].muxPlaybackId; \n                const muxPlaybackUrl = 'https://stream.mux.com/' + muxPlaybackId + '.m3u8';\n\n                renderedVideos.push(\n                    <PlayingVideo\n                        key={renderedVideoIndex}\n                        playbackObject={nonplayingData.playbackObject}\n                        source={muxPlaybackUrl}\n                        isMuted={nonplayingData.isMuted}\n                        shouldPlay={nonplayingData.shouldPlay}\n                        _onPlaybackStatusUpdate={nonplayingData._onPlaybackStatusUpdate}\n                        display={nonplayingData.display}\n                    />\n                )\n\n            }\n        }\n    }\n\n    return(\n        <View>\n            {renderedVideos}\n        </View>\n    )    \n}\n\nfunction PlayingVideo({playbackObject, source, isMuted, shouldPlay, _onPlaybackStatusUpdate, display}){\n\n    const videoStyle = { width: '100%', height: '100%', display: display}; \n    return(\n        <Video\n            ref={playbackObject}\n            source={{uri: source}}\n            // posterSource={{ uri: posterSource}}\n            // posterStyle={{ width: '100%', height: '100%', display: display, flex: 1 }}\n            rate={1.0}\n            volume={1.0}\n            isMuted={isMuted}\n            resizeMode=\"cover\"\n            usePoster={true}\n            shouldPlay={shouldPlay}\n            onPlaybackStatusUpdate={_onPlaybackStatusUpdate}\n            progressUpdateIntervalMillis={50}\n            isLooping\n            style={videoStyle}\n            >\n        </Video>\n    )\n}"]},"metadata":{},"sourceType":"module"}