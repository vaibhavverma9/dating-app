{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/vaibhavverma9/Desktop/dating/dating-app/app/views/VideoContents.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { Video } from 'expo-av';\nimport { globalStyles } from \"../../styles/global\";\nimport { BlurView } from 'expo-blur';\nimport { Ionicons } from '@expo/vector-icons';\nexport default function HomeView(data) {\n  var playbackObject;\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      videoData = _useState2[0],\n      setVideoData = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      uploaded = _useState4[0],\n      setUploaded = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      userCount = _useState6[0],\n      setUserCount = _useState6[1];\n\n  var _useState7 = useState(0),\n      _useState8 = _slicedToArray(_useState7, 2),\n      currentUserIndex = _useState8[0],\n      setCurrentUserIndex = _useState8[1];\n\n  var _useState9 = useState(0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      currentUserVideoCount = _useState10[0],\n      setCurrentUserVideoCount = _useState10[1];\n\n  var _useState11 = useState(''),\n      _useState12 = _slicedToArray(_useState11, 2),\n      muxPlaybackId = _useState12[0],\n      setMuxPlaybackId = _useState12[1];\n\n  var _useState13 = useState(''),\n      _useState14 = _slicedToArray(_useState13, 2),\n      questionText = _useState14[0],\n      setQuestionText = _useState14[1];\n\n  var _useState15 = useState(''),\n      _useState16 = _slicedToArray(_useState15, 2),\n      muxUrl = _useState16[0],\n      setMuxUrl = _useState16[1];\n\n  var _useState17 = useState(0),\n      _useState18 = _slicedToArray(_useState17, 2),\n      videoIndex = _useState18[0],\n      setVideoIndex = _useState18[1];\n\n  var _useState19 = useState(0),\n      _useState20 = _slicedToArray(_useState19, 2),\n      userIndex = _useState20[0],\n      setUserIndex = _useState20[1];\n\n  var _useState21 = useState('#303030'),\n      _useState22 = _slicedToArray(_useState21, 2),\n      backArrowColor = _useState22[0],\n      setBackArrowColor = _useState22[1];\n\n  var _useState23 = useState('white'),\n      _useState24 = _slicedToArray(_useState23, 2),\n      forwardArrowColor = _useState24[0],\n      setForwardArrowColor = _useState24[1];\n\n  var _handleVideoRef = function _handleVideoRef(component) {\n    playbackObject = component;\n  };\n\n  var onPress = function onPress() {\n    setVideoIndex(videoIndex + 1 === currentUserVideoCount ? 0 : videoIndex + 1);\n  };\n\n  useEffect(function () {\n    console.log(\"useEffect, [videoIndex, userIndex\", videoIndex, userIndex);\n\n    if (uploaded) {\n      setMuxPlaybackId(videoData.data.users[userIndex].userVideos[videoIndex].muxPlaybackId);\n      setQuestionText(videoData.data.users[userIndex].userVideos[videoIndex].videoQuestion.questionText);\n      playbackObject.replayAsync();\n    }\n  }, [videoIndex, userIndex]);\n\n  var _useState25 = useState('md-heart-empty'),\n      _useState26 = _slicedToArray(_useState25, 2),\n      heartIcon = _useState26[0],\n      setHeartIcon = _useState26[1];\n\n  var onPressHeart = function onPressHeart() {\n    setHeartIcon('md-heart');\n  };\n\n  useEffect(function () {\n    console.log(\"useEffect, []\");\n    console.log(data);\n    setVideoData(data);\n    console.log('user count', data.data.users.length);\n    setUserCount(data.data.users.length);\n    setCurrentUserVideoCount(data.data.users[0].userVideos.length);\n    setMuxPlaybackId(data.data.users[0].userVideos[0].muxPlaybackId);\n    setQuestionText(data.data.users[0].userVideos[0].videoQuestion.questionText);\n  }, []);\n  useEffect(function () {\n    console.log(\"useEffect, [videoData]\");\n    setUploaded(true);\n    setVideoIndex(0);\n    playbackObject.replayAsync();\n  }, [videoData]);\n  useEffect(function () {\n    var muxUrl = 'https://stream.mux.com/' + muxPlaybackId + '.m3u8';\n    setMuxUrl(muxUrl);\n  }, [muxPlaybackId]);\n  useEffect(function () {\n    console.log(currentUserVideoCount, muxPlaybackId, questionText);\n  }, [currentUserVideoCount, muxPlaybackId, questionText]);\n  useEffect(function () {\n    setHeartIcon('md-heart-empty');\n    setBackArrowColor('white');\n    setForwardArrowColor('white');\n\n    if (userIndex === 0) {\n      setBackArrowColor('#303030');\n    } else if (userIndex === userCount - 1) {\n      setForwardArrowColor('#303030');\n    }\n  }, [userIndex]);\n\n  var goBack = function goBack() {\n    if (userIndex !== 0) {\n      setUserIndex(userIndex - 1);\n      setVideoIndex(0);\n      playbackObject.replayAsync();\n    }\n\n    console.log(\"goBack\");\n  };\n\n  var goForward = function goForward() {\n    if (userIndex !== userCount - 1) {\n      setUserIndex(userIndex + 1);\n      setVideoIndex(0);\n      playbackObject.replayAsync();\n    }\n\n    console.log(\"goForward\");\n  };\n\n  return React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 5\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: onPress,\n    style: {\n      flex: 9\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 6\n    }\n  }, React.createElement(Video, {\n    ref: _handleVideoRef,\n    source: {\n      uri: muxUrl\n    },\n    rate: 1.0,\n    volume: 1.0,\n    isMuted: false,\n    resizeMode: \"cover\",\n    usePoster: true,\n    shouldPlay: true,\n    isLooping: true,\n    style: {\n      width: '100%',\n      height: '100%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }), React.createElement(BlurView, {\n    tint: \"dark\",\n    intensity: 20,\n    style: globalStyles.questionContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 18,\n      color: \"#eee\",\n      padding: 15,\n      textAlign: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, questionText))), React.createElement(View, {\n    style: {\n      flex: 1,\n      flexDirection: 'row',\n      alignItems: 'center',\n      justifyContent: 'space-around',\n      backgroundColor: '#0e1111'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  }, React.createElement(Ionicons, {\n    name: \"ios-arrow-round-back\",\n    onPress: goBack,\n    size: 32,\n    color: backArrowColor,\n    padding: 5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }), React.createElement(Ionicons, {\n    name: heartIcon,\n    onPress: onPressHeart,\n    size: 32,\n    color: \"white\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }), React.createElement(Ionicons, {\n    name: \"ios-arrow-round-forward\",\n    onPress: goForward,\n    size: 32,\n    color: forwardArrowColor,\n    padding: 5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["/Users/vaibhavverma9/Desktop/dating/dating-app/app/views/VideoContents.tsx"],"names":["React","useState","useEffect","Video","globalStyles","BlurView","Ionicons","HomeView","data","playbackObject","videoData","setVideoData","uploaded","setUploaded","userCount","setUserCount","currentUserIndex","setCurrentUserIndex","currentUserVideoCount","setCurrentUserVideoCount","muxPlaybackId","setMuxPlaybackId","questionText","setQuestionText","muxUrl","setMuxUrl","videoIndex","setVideoIndex","userIndex","setUserIndex","backArrowColor","setBackArrowColor","forwardArrowColor","setForwardArrowColor","_handleVideoRef","component","onPress","console","log","users","userVideos","videoQuestion","replayAsync","heartIcon","setHeartIcon","onPressHeart","length","goBack","goForward","flex","uri","width","height","questionContainer","fontSize","color","padding","textAlign","flexDirection","alignItems","justifyContent","backgroundColor"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Text, View, TouchableOpacity } from 'react-native';\nimport { Video } from 'expo-av';   \nimport { globalStyles } from '../../styles/global';\nimport { BlurView } from 'expo-blur';\nimport { Ionicons } from '@expo/vector-icons'\nimport { GET_VIDEOS, client } from '../../graphql/GraphqlClient'\n\nexport default function HomeView(data) {\n  var playbackObject; \n\n  const [videoData, setVideoData] = useState({}); \n  const [uploaded, setUploaded] = useState(false); \n  const [userCount, setUserCount] = useState(0);\n  const [currentUserIndex, setCurrentUserIndex] = useState(0); \n  const [currentUserVideoCount, setCurrentUserVideoCount] = useState(0);\n  const [muxPlaybackId, setMuxPlaybackId] = useState('');\n  const [questionText, setQuestionText] = useState(''); \n  const [muxUrl, setMuxUrl] = useState('');\n\n  const [videoIndex, setVideoIndex] = useState(0);\n  const [userIndex, setUserIndex] = useState(0); \n  const [backArrowColor, setBackArrowColor] = useState('#303030');\n  const [forwardArrowColor, setForwardArrowColor] = useState('white'); \n\n  const _handleVideoRef = component => {\n    playbackObject = component;\n  };\n\n  const onPress = () => {\n    setVideoIndex(videoIndex + 1 === currentUserVideoCount ? 0 : videoIndex + 1);    \n  }\n\n  useEffect(() => {\n      console.log(\"useEffect, [videoIndex, userIndex\", videoIndex, userIndex)\n      if(uploaded){\n        setMuxPlaybackId(videoData.data.users[userIndex].userVideos[videoIndex].muxPlaybackId);\n        setQuestionText(videoData.data.users[userIndex].userVideos[videoIndex].videoQuestion.questionText);\n        playbackObject.replayAsync()    \n      }\n  }, [videoIndex, userIndex])\n\n  const [heartIcon, setHeartIcon] = useState('md-heart-empty');\n\n  const onPressHeart = () => {\n    setHeartIcon('md-heart')\n  }\n\n  useEffect(() => {\n    console.log(\"useEffect, []\")\n    console.log(data);\n    setVideoData(data);\n    console.log('user count', data.data.users.length); \n    setUserCount(data.data.users.length); \n    setCurrentUserVideoCount(data.data.users[0].userVideos.length);\n    setMuxPlaybackId(data.data.users[0].userVideos[0].muxPlaybackId);\n    setQuestionText(data.data.users[0].userVideos[0].videoQuestion.questionText);\n  }, []);\n\n  useEffect(() => {\n      console.log(\"useEffect, [videoData]\")\n      setUploaded(true); \n      setVideoIndex(0); \n      playbackObject.replayAsync();\n    }, [videoData])\n\n  useEffect(() => {\n    let muxUrl = 'https://stream.mux.com/' + muxPlaybackId + '.m3u8';\n    setMuxUrl(muxUrl); \n  }, [muxPlaybackId])\n\n\n  useEffect(() => {\n    console.log(currentUserVideoCount, muxPlaybackId, questionText);\n  }, [currentUserVideoCount, muxPlaybackId, questionText])\n\n  useEffect(() => {\n    setHeartIcon('md-heart-empty');\n    setBackArrowColor('white');\n    setForwardArrowColor('white');\n    if (userIndex === 0) {\n      setBackArrowColor('#303030');\n    } else if (userIndex === userCount - 1){\n      setForwardArrowColor('#303030')\n    }\n  }, [userIndex])\n\n  const goBack = () => {\n    if(userIndex !== 0){\n      setUserIndex(userIndex - 1);\n      setVideoIndex(0); \n      playbackObject.replayAsync()\n    }\n    console.log(\"goBack\");\n  }\n  \n  const goForward = () => {\n    if(userIndex !== userCount - 1){\n      setUserIndex(userIndex + 1);\n      setVideoIndex(0); \n      playbackObject.replayAsync()\n    }\n    console.log(\"goForward\");\n  }\n\n  return (\n    <View style={{ flex: 1}}>\n     <TouchableOpacity onPress={onPress} style={{flex: 9}}>  \n      <Video\n          ref={_handleVideoRef}\n          source={{ uri: muxUrl}}\n          rate={1.0}\n          volume={1.0}\n          isMuted={false}\n          resizeMode=\"cover\"\n          usePoster={true}\n          shouldPlay\n          isLooping\n          style={{ width: '100%', height: '100%'}}\n        >\n        </Video>\n        <BlurView tint=\"dark\" intensity={20} style={globalStyles.questionContainer}>\n          <Text style={{fontSize: 18,color: \"#eee\", padding: 15, textAlign: 'center'}}>{questionText}</Text>\n        </BlurView>\n      </TouchableOpacity>\n      <View style={{flex: 1, flexDirection: 'row', alignItems: 'center', justifyContent: 'space-around', backgroundColor: '#0e1111'}}>\n        <Ionicons name=\"ios-arrow-round-back\" onPress={goBack} size={32} color={backArrowColor} padding={5} />\n        <Ionicons name={heartIcon} onPress={onPressHeart} size={32} color=\"white\" />\n        <Ionicons name=\"ios-arrow-round-forward\" onPress={goForward} size={32} color={forwardArrowColor} padding={5} />\n      </View>\n    </View>\n  );\n}"]},"metadata":{},"sourceType":"module"}