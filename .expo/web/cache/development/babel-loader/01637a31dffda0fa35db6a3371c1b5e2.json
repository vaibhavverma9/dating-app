{"ast":null,"code":"function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { useCallback } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { ActivityIndicator } from 'react-native-paper';\nimport { ScreenStyle } from \"../style/screen\";\nimport { TextStyle } from \"../style/text\";\nimport { Page } from \"../components/Page\";\nimport { Paragraph, H1 } from \"../components\";\nimport { empty } from \"../utils/empty\";\nimport { ScreenBackground } from \"../components/Background\";\nimport { Header } from 'react-native-elements';\nimport Animated from 'react-native-reanimated';\nimport { useTimingTransition, bInterpolate } from 'react-native-redash';\nimport { Input } from \"../components/Input\";\n\nfunction Confirm(props) {\n  var code = props.code,\n      onChangeCode = props.onChangeCode,\n      loading = props.loading,\n      phoneNumber = props.phoneNumber,\n      message = props.message,\n      _props$title = props.title,\n      title = _props$title === void 0 ? 'Enter Code' : _props$title,\n      error = props.error,\n      errorStyle = props.errorStyle,\n      resending = props.resending,\n      _props$resendText = props.resendText,\n      resendText = _props$resendText === void 0 ? 'Resend Code' : _props$resendText,\n      _props$containerProps = props.containerProps,\n      containerProps = _props$containerProps === void 0 ? empty.object : _props$containerProps,\n      containerStyle = props.containerStyle,\n      renderBackground = props.renderBackground,\n      backgroundColor = props.backgroundColor,\n      renderHeader = props.renderHeader,\n      renderHeaderTitle = props.renderHeaderTitle,\n      _props$headerText = props.headerText,\n      headerText = _props$headerText === void 0 ? 'Confirm' : _props$headerText,\n      headerTintColor = props.headerTintColor,\n      headerTitleStyle = props.headerTitleStyle,\n      _props$textAlign = props.textAlign,\n      textAlign = _props$textAlign === void 0 ? 'center' : _props$textAlign,\n      headerProps = props.headerProps,\n      _props$headerBackgrou = props.headerBackgroundColor,\n      headerBackgroundColor = _props$headerBackgrou === void 0 ? 'transparent' : _props$headerBackgrou,\n      _props$textColor = props.textColor,\n      textColor = _props$textColor === void 0 ? 'white' : _props$textColor,\n      resendStyle = props.resendStyle,\n      renderLoader = props.renderLoader,\n      _props$inputBackgroun = props.inputBackgroundColor,\n      inputBackgroundColor = _props$inputBackgroun === void 0 ? 'white' : _props$inputBackgroun,\n      inputContainerStyle = props.inputContainerStyle,\n      _props$inputTextColor = props.inputTextColor,\n      inputTextColor = _props$inputTextColor === void 0 ? 'black' : _props$inputTextColor,\n      _props$inputType = props.inputType,\n      inputType = _props$inputType === void 0 ? 'elevated' : _props$inputType,\n      onGoBack = props.onGoBack,\n      onPressResendCode = props.onPressResendCode,\n      loaderColor = props.loaderColor,\n      _props$inputStyle = props.inputStyle,\n      inputStyle = _props$inputStyle === void 0 ? empty.object : _props$inputStyle,\n      _props$inputProps = props.inputProps,\n      inputProps = _props$inputProps === void 0 ? empty.object : _props$inputProps;\n  var renderMessage = useCallback(function () {\n    if (message) {\n      return React.createElement(Paragraph, {\n        style: [styles.subtitle, {\n          color: textColor,\n          textAlign: textAlign\n        }]\n      }, typeof message === 'function' ? message({\n        phoneNumber: phoneNumber\n      }) : message);\n    }\n\n    return React.createElement(Paragraph, {\n      style: [styles.subtitle, {\n        color: textColor,\n        textAlign: textAlign\n      }]\n    }, \"We just sent a 6-digit code to\", ' ', React.createElement(Paragraph, {\n      style: styles.number\n    }, phoneNumber), \". Enter it below to continue.\");\n  }, [message, phoneNumber, textAlign, textColor]);\n  var renderInput = useCallback(function () {\n    return React.createElement(View, {\n      style: [styles.inputContainer, inputContainerStyle]\n    }, React.createElement(Input, _extends({\n      value: code,\n      onChangeText: onChangeCode,\n      editable: !loading,\n      maxLength: 6,\n      clearButtonMode: \"while-editing\",\n      placeholder: \"6-digit code\",\n      textContentType: \"oneTimeCode\",\n      keyboardType: \"number-pad\",\n      accessibilityHint: \"6-digit phone number texted to you\",\n      returnKeyType: \"done\",\n      autoFocus: true,\n      style: inputStyle,\n      textColor: inputTextColor,\n      backgroundColor: inputBackgroundColor,\n      type: inputType,\n      textAlign: textAlign\n    }, inputProps)));\n  }, [code, inputBackgroundColor, inputContainerStyle, inputProps, inputStyle, inputTextColor, inputType, loading, onChangeCode, textAlign]);\n  var renderResend = useCallback(function () {\n    return !loading && onPressResendCode ? React.createElement(React.Fragment, null, React.createElement(TouchableOpacity, {\n      disabled: resending,\n      onPress: function onPress() {\n        return onPressResendCode === null || onPressResendCode === void 0 ? void 0 : onPressResendCode({\n          phoneNumber: phoneNumber\n        });\n      }\n    }, React.createElement(Paragraph, {\n      style: [{\n        color: textColor\n      }, styles.resend, resendStyle]\n    }, resending ? 'Resending code...' : resendText))) : null;\n  }, [loading, phoneNumber, onPressResendCode, resendStyle, resendText, resending, textColor]);\n  var loader = useCallback(function () {\n    return !!loading && (renderLoader === null || renderLoader === void 0 ? void 0 : renderLoader()) || React.createElement(View, {\n      style: {\n        marginVertical: 8\n      }\n    }, React.createElement(ActivityIndicator, {\n      animating: loading,\n      color: loaderColor !== null && loaderColor !== void 0 ? loaderColor : textColor\n    }));\n  }, [loading, renderLoader, textColor, loaderColor]);\n  var errorOpacity = useTimingTransition(!!error);\n  var renderError = useCallback(function () {\n    return React.createElement(Animated.View, {\n      style: {\n        opacity: errorOpacity,\n        transform: [{\n          translateY: bInterpolate(errorOpacity, 5, 0)\n        }]\n      }\n    }, React.createElement(Text, {\n      style: [{\n        textAlign: textAlign\n      }, styles.error, errorStyle]\n    }, error, \". Please try resending the code.\"));\n  }, [error, errorOpacity, errorStyle, textAlign]);\n  var background = useCallback(function () {\n    if (renderBackground === null) return null;\n    if (renderBackground) return renderBackground();\n    return React.createElement(ScreenBackground, {\n      color: backgroundColor\n    });\n  }, [renderBackground, backgroundColor]);\n  var header = useCallback(function () {\n    var _ref;\n\n    if (renderHeader === null) return null;\n    if (renderHeader) return renderHeader({\n      screen: 'phone'\n    });\n    return React.createElement(Header, _extends({\n      containerStyle: {\n        backgroundColor: headerBackgroundColor,\n        justifyContent: textAlign === 'left' ? 'space-between' : 'center',\n        borderBottomWidth: 0\n      }\n    }, headerProps, {\n      leftComponent: {\n        icon: 'arrow-back',\n        color: headerTintColor !== null && headerTintColor !== void 0 ? headerTintColor : textColor,\n        onPress: onGoBack\n      },\n      centerComponent: (_ref = renderHeaderTitle === null || renderHeaderTitle === void 0 ? void 0 : renderHeaderTitle()) !== null && _ref !== void 0 ? _ref : {\n        text: headerText,\n        style: _objectSpread({\n          color: headerTintColor !== null && headerTintColor !== void 0 ? headerTintColor : textColor\n        }, headerTitleStyle, {\n          fontWeight: '500',\n          fontSize: 18\n        })\n      }\n    }));\n  }, [renderHeader, headerBackgroundColor, textAlign, headerProps, headerTintColor, textColor, onGoBack, renderHeaderTitle, headerText, headerTitleStyle]);\n  var renderTitle = useCallback(function () {\n    return React.createElement(H1, {\n      style: {\n        textAlign: textAlign,\n        color: textColor\n      }\n    }, title);\n  }, [textAlign, textColor, title]);\n  return React.createElement(Page, {\n    header: header,\n    background: background,\n    containerProps: containerProps,\n    style: containerStyle\n  }, React.createElement(View, {\n    style: styles.wrapper\n  }, renderTitle(), renderMessage(), renderInput(), renderResend(), loader(), renderError()));\n}\n\nexport var ConfirmScreen = React.memo(Confirm);\n\nvar styles = _objectSpread({\n  message: {\n    textAlign: 'center',\n    marginVertical: 10,\n    fontSize: 18\n  },\n  number: {\n    fontWeight: 'bold',\n    textAlign: 'center'\n  },\n  resend: {\n    marginTop: 16,\n    textAlign: 'center'\n  }\n}, ScreenStyle, {}, TextStyle);","map":{"version":3,"sources":["Confirm-Screen.tsx"],"names":["title","resendText","containerProps","empty","headerText","textAlign","headerBackgroundColor","textColor","inputBackgroundColor","inputTextColor","inputType","inputStyle","inputProps","object","renderMessage","useCallback","styles","color","message","phoneNumber","number","renderInput","renderResend","onPressResendCode","resending","loader","renderLoader","marginVertical","loaderColor","errorOpacity","useTimingTransition","renderError","opacity","transform","translateY","bInterpolate","background","renderBackground","backgroundColor","header","renderHeader","screen","justifyContent","borderBottomWidth","icon","headerTintColor","onPress","onGoBack","renderHeaderTitle","text","style","fontWeight","fontSize","renderTitle","containerStyle","wrapper","ConfirmScreen","React","resend","marginTop"],"mappings":"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","sourcesContent":["import React, { ReactNode, ComponentPropsWithoutRef, useCallback } from 'react'\nimport {\n  View,\n  ScrollView,\n  TouchableOpacity,\n  TextStyle as TextStyleType,\n  ViewStyle,\n  Text,\n} from 'react-native'\nimport { ActivityIndicator } from 'react-native-paper'\nimport { ScreenStyle } from '../style/screen'\nimport { TextStyle } from '../style/text'\nimport { Page } from '../components/Page'\nimport { Paragraph, H1 } from '../components'\nimport { empty } from '../utils/empty'\nimport { CommonScreenProps } from './types'\nimport { ScreenBackground } from '../components/Background'\nimport { Header, InputProps } from 'react-native-elements'\nimport Animated from 'react-native-reanimated'\nimport { useTimingTransition, bInterpolate } from 'react-native-redash'\nimport { Input } from '../components/Input'\n\ntype Props = CommonScreenProps & {\n  code: string\n  /**\n   * Required prop: Function called every time the code is changed. It is recommended to use this with the `useConfirmPhone` hook.\n   *\n   * To have this logic fully handled for you, see the `AuthFlow.ConfirmScreen` component. Or, for an even simpler experience, see the `AuthFlow` stack.\n   *\n   * @example\n   * ```jsx\n   * import * as React from 'react'\n   * import { useConfirmPhone, ConfirmScreen } from 'react-native-doorman'\n   *\n   * export default function ConfirmScreen(props) {\n   * \tconst { code, onChangeCode, reset, loading } = useConfirmPhone({ phoneNumber: props.phoneNumber })\n   *\n   * \treturn (\n   * \t\t<ConfirmPhone\n   * \t\t\t{...{ code, onChangeCode, loading }}\n   * \t\t\tphoneNumber={props.phoneNumber}\n   * \t\t/>\n   * \t)\n   * }\n   * ```\n   *\n   */\n  onChangeCode: (code: string) => void\n  /**\n\t * (Optional) Boolean to show if it's loading. If true, shows a loading indicator. It is recommended to use this with the `useConfirmPhone` hook.\n\t *\n\t * To have this logic fully handled for you, see the `AuthFlow.ConfirmScreen` component. Or, for an even simpler experience, see the `AuthFlow` stack.\n\t *\n\t *  * @example\n\t * ```jsx\n\t * import * as React from 'react'\n\t * import { useConfirmPhone, ConfirmScreen } from 'react-native-doorman'\nimport Input from '../components/Input'\n\n\t * export default function ConfirmScreen(props) {\n\t * \tconst { code, onChangeCode, reset, loading } = useConfirmPhone({ phoneNumber: props.phoneNumber })\n\t *\n\t * \treturn (\n\t * \t\t<ConfirmPhone\n\t * \t\t\t{...{ code, onChangeCode, loading }}\n\t * \t\t\tphoneNumber={props.phoneNumber}\n\t * \t\t/>\n\t * \t)\n\t * }\n\t * ```\n\t *\n\t */\n  loading?: boolean\n  /**\n   * **Required** `phoneNumber` that the 6-digit code was sent to. You should have this value from the previous screen, `PhoneAuth`. To have this logic between screens all handled for you, see the `AuthFlow` component.\n   *\n   */\n  phoneNumber: string\n  /**\n   * (Optional prop) Message that will show up above the code input. This should tell your user that they just received a code to their phone, and that it should show up below.\n   *\n   * Can either be a string, or a function.\n   *\n   * If you pass a function, it receives one argument: a dictionary with a `phoneNumber` value. The function should return a string or React Native <Text /> node.\n   *\n   * @default\n   * ```es6\n   * \tconst defaultMessage = ({phoneNumber}) => `We just sent a 6-digit code to ${phoneNumber}. Enter it below to continue.`\n   * ```\n   *\n   * @example\n   * ```jsx\n   *\n   * export default () => {\n   * \treturn <ConfirmPhone message={({ phoneNumber }) => `Check ${phoneNumber} for a text!`} />\n   * }\n   * ```\n   */\n  message?: string | ((info: { phoneNumber: string }) => ReactNode)\n  /**\n   * Callback function called when user presses \"Resent Code\" button\n   */\n  onPressResendCode?: (info: { phoneNumber: string }) => void\n  /**\n   * Override text for button that lets users to resend code.\n   *\n   * Default: `Resend Code`\n   */\n  resendText?: string\n  /**\n   * Boolean to indicate if resending the code is loading.\n   *\n   * Used with the `useConfirmPhone` hook.\n   */\n  resending?: boolean\n  /**\n   * Text style prop for the resend text. If you just want to change the color, see the `tintColor` prop.\n   */\n  resendStyle?: TextStyleType\n  /** */\n  // onReset?: () => void\n  // tintColor?: string\n  /**\n   * Header text that appears at the top.\n   *\n   * Default: Enter code\n   */\n  title?: string\n  /**\n   * If there is a network error message\n   */\n  error?: string | null\n  /**\n   * Text style for the `error` message prop.\n   */\n  errorStyle?: TextStyleType\n  /**\n   * Props for the scroll view containing the whole screen. For styles, see `containerStyle`\n   */\n  containerProps?: Omit<ComponentPropsWithoutRef<typeof ScrollView>, 'style'>\n  /**\n   * Style the outer screen.\n   */\n  containerStyle?: ViewStyle\n  /**\n   * Default: `Confirm Code`. Set empty string to remove.\n   *\n   * You can also see these props: `renderHeaderTitle`, or `renderHeader`, or `headerProps`.\n   */\n  headerText?: string\n  /**\n   * Optionally render your own custom loader when a code verification is loading.\n   */\n  renderLoader?: () => ReactNode\n  /**\n   * Function that gets called when the back arrow is pressed.\n   */\n  onGoBack?: () => void\n  /**\n   * Optional color for the activity indicator when a message is sending. See also: `renderLoader` prop.\n   */\n  loaderColor?: string\n  /**\n   * Optional styles for the TextInput component.\n   */\n  inputStyle?: TextStyleType\n  /**\n   * Custom TextInput props. Note that there are many other props to customize the input. Do a page find for `input` to find them.\n   */\n  inputProps?: InputProps\n}\n\nfunction Confirm(props: Props) {\n  const {\n    code,\n    onChangeCode,\n    loading,\n    phoneNumber,\n    message,\n    title = 'Enter Code',\n    error,\n    errorStyle,\n    resending,\n    resendText = 'Resend Code',\n    containerProps = empty.object,\n    containerStyle,\n    renderBackground,\n    backgroundColor,\n    renderHeader,\n    renderHeaderTitle,\n    headerText = 'Confirm',\n    headerTintColor,\n    headerTitleStyle,\n    textAlign = 'center',\n    headerProps,\n    headerBackgroundColor = 'transparent',\n    textColor = 'white',\n    resendStyle,\n    renderLoader,\n    inputBackgroundColor = 'white',\n    inputContainerStyle,\n    inputTextColor = 'black',\n    inputType = 'elevated',\n    onGoBack,\n    onPressResendCode,\n    loaderColor,\n    inputStyle = empty.object,\n    inputProps = empty.object,\n  } = props\n\n  const renderMessage = useCallback(() => {\n    if (message) {\n      return (\n        <Paragraph style={[styles.subtitle, { color: textColor, textAlign }]}>\n          {typeof message === 'function' ? message({ phoneNumber }) : message}\n        </Paragraph>\n      )\n    }\n\n    return (\n      <Paragraph style={[styles.subtitle, { color: textColor, textAlign }]}>\n        We just sent a 6-digit code to{' '}\n        <Paragraph style={styles.number}>{phoneNumber}</Paragraph>. Enter it\n        below to continue.\n      </Paragraph>\n    )\n  }, [message, phoneNumber, textAlign, textColor])\n  const renderInput = useCallback(() => {\n    // const inputStyles: {\n    //   [key in typeof inputType]: TextStyleType\n    // } = {\n    //   elevated: {\n    //     backgroundColor: inputBackgroundColor ?? 'white',\n    //     borderRadius: 5,\n    //     // fontSize: 20,\n    //     fontWeight: 'bold',\n    //     color: inputTextColor ?? 'black',\n    //   },\n    //   flat: {\n    //     borderBottomColor: 'white',\n    //     borderBottomWidth: 1,\n    //     color: inputTextColor ?? 'white',\n    //   },\n    // }\n    // return (\n    //   <View style={[styles.inputContainer, inputContainerStyle]}>\n    //     <TextInput\n    //       value={code}\n    //       onChangeText={onChangeCode}\n    //       editable={!loading}\n    //       maxLength={6}\n    //       clearButtonMode=\"while-editing\"\n    //       placeholder=\"6-digit code\"\n    //       textContentType=\"oneTimeCode\"\n    //       keyboardType=\"number-pad\"\n    //       accessibilityHint=\"6-digit phone number texted to you\"\n    //       returnKeyType=\"done\"\n    //       autoFocus\n    //       style={[\n    //         {\n    //           padding: 16,\n    //           fontSize: 24,\n    //           fontWeight: 'bold',\n    //           color: inputTextColor,\n    //           textAlign,\n    //           ...inputStyles[inputType],\n    //         },\n    //         inputStyle,\n    //       ]}\n    //       {...inputProps}\n    //     />\n    //   </View>\n    // )\n    return (\n      <View style={[styles.inputContainer, inputContainerStyle]}>\n        <Input\n          value={code}\n          onChangeText={onChangeCode}\n          editable={!loading}\n          maxLength={6}\n          clearButtonMode=\"while-editing\"\n          placeholder=\"6-digit code\"\n          textContentType=\"oneTimeCode\"\n          keyboardType=\"number-pad\"\n          accessibilityHint=\"6-digit phone number texted to you\"\n          returnKeyType=\"done\"\n          autoFocus\n          style={inputStyle}\n          textColor={inputTextColor}\n          backgroundColor={inputBackgroundColor}\n          type={inputType}\n          textAlign={textAlign}\n          {...inputProps}\n        />\n      </View>\n    )\n  }, [\n    code,\n    inputBackgroundColor,\n    inputContainerStyle,\n    inputProps,\n    inputStyle,\n    inputTextColor,\n    inputType,\n    loading,\n    onChangeCode,\n    textAlign,\n  ])\n\n  const renderResend = useCallback(\n    () =>\n      !loading && onPressResendCode ? (\n        <>\n          <TouchableOpacity\n            disabled={resending}\n            onPress={() => onPressResendCode?.({ phoneNumber })}\n          >\n            <Paragraph\n              style={[\n                { color: textColor },\n                styles.resend as TextStyleType,\n                resendStyle,\n              ]}\n            >\n              {resending ? 'Resending code...' : resendText}\n            </Paragraph>\n          </TouchableOpacity>\n        </>\n      ) : null,\n    [\n      loading,\n      phoneNumber,\n      onPressResendCode,\n      resendStyle,\n      resendText,\n      resending,\n      textColor,\n    ]\n  )\n\n  const loader = useCallback(\n    () =>\n      (!!loading && renderLoader?.()) || (\n        <View style={{ marginVertical: 8 }}>\n          <ActivityIndicator\n            animating={loading}\n            color={loaderColor ?? textColor}\n          />\n        </View>\n      ),\n    [loading, renderLoader, textColor, loaderColor]\n  )\n\n  const errorOpacity = useTimingTransition(!!error)\n  // const errorTransform = [{ translateY: bIn}]\n\n  const renderError = useCallback(() => {\n    return (\n      <Animated.View\n        style={{\n          opacity: errorOpacity,\n          transform: [{ translateY: bInterpolate(errorOpacity, 5, 0) }],\n        }}\n      >\n        <Text\n          style={[\n            {\n              textAlign,\n            },\n            styles.error,\n            errorStyle,\n          ]}\n        >\n          {error}. Please try resending the code.\n        </Text>\n      </Animated.View>\n    )\n  }, [error, errorOpacity, errorStyle, textAlign])\n\n  const background = useCallback(() => {\n    if (renderBackground === null) return null\n    if (renderBackground) return renderBackground()\n\n    return <ScreenBackground color={backgroundColor} />\n  }, [renderBackground, backgroundColor])\n\n  const header = useCallback(() => {\n    if (renderHeader === null) return null\n    if (renderHeader) return renderHeader({ screen: 'phone' })\n\n    return (\n      <Header\n        containerStyle={{\n          backgroundColor: headerBackgroundColor,\n          justifyContent: textAlign === 'left' ? 'space-between' : 'center',\n          borderBottomWidth: 0,\n        }}\n        {...headerProps}\n        leftComponent={{\n          icon: 'arrow-back',\n          color: headerTintColor ?? textColor,\n          onPress: onGoBack,\n        }}\n        centerComponent={\n          renderHeaderTitle?.() ?? {\n            text: headerText,\n            style: {\n              color: headerTintColor ?? textColor,\n              ...headerTitleStyle,\n              fontWeight: '500',\n              fontSize: 18,\n            },\n          }\n        }\n      />\n    )\n\n    // return (\n    // \t<Appbar.Header\n    // \t\t{...headerProps}\n    // \t\tstyle={{ backgroundColor: headerBackgroundColor, elevation: 0 }}\n    // \t>\n    // \t\t{(!!renderHeaderTitle && renderHeaderTitle()) || (\n    // \t\t\t<View style={{ flex: 1, paddingHorizontal: 16 }}>\n    // \t\t\t\t<Text\n    // \t\t\t\t\tstyle={[\n    // \t\t\t\t\t\t{\n    // \t\t\t\t\t\t\ttextAlign,\n    // \t\t\t\t\t\t\tcolor: headerTintColor ?? textColor,\n    // \t\t\t\t\t\t\tfontWeight: '500',\n    // \t\t\t\t\t\t\tfontSize: 18,\n    // \t\t\t\t\t\t},\n    // \t\t\t\t\t\theaderTitleStyle,\n    // \t\t\t\t\t]}\n    // \t\t\t\t>\n    // \t\t\t\t\t{headerText}\n    // \t\t\t\t</Text>\n    // \t\t\t</View>\n    // \t\t)}\n    // \t</Appbar.Header>\n    // )\n  }, [\n    renderHeader,\n    headerBackgroundColor,\n    textAlign,\n    headerProps,\n    headerTintColor,\n    textColor,\n    onGoBack,\n    renderHeaderTitle,\n    headerText,\n    headerTitleStyle,\n  ])\n  const renderTitle = useCallback(() => {\n    return <H1 style={{ textAlign, color: textColor }}>{title}</H1>\n  }, [textAlign, textColor, title])\n\n  return (\n    <Page\n      header={header}\n      background={background}\n      containerProps={containerProps}\n      style={containerStyle}\n    >\n      <View style={styles.wrapper}>\n        {renderTitle()}\n        {renderMessage()}\n        {renderInput()}\n        {renderResend()}\n        {loader()}\n        {renderError()}\n      </View>\n    </Page>\n  )\n}\n\nexport const ConfirmScreen = React.memo(Confirm)\n\nconst styles = {\n  message: {\n    textAlign: 'center',\n    marginVertical: 10,\n    fontSize: 18,\n  },\n  number: {\n    fontWeight: 'bold' as 'bold',\n    textAlign: 'center' as 'center',\n  },\n  resend: {\n    marginTop: 16,\n    textAlign: 'center',\n  },\n  ...ScreenStyle,\n  ...TextStyle,\n}\n"]},"metadata":{},"sourceType":"module"}