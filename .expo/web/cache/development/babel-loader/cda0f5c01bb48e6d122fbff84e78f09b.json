{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/vaibhavverma9/Desktop/realtalk-app/dating-app/app/components/videosPage/EditCollegeView.tsx\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { _storeCollege, _storeCollegeLatitude, _storeCollegeLongitude } from \"../../utils/asyncStorage\";\nimport { useMutation, useLazyQuery } from '@apollo/client';\nimport { UPDATE_COLLEGE, GET_COLLEGES } from \"../../utils/graphql/GraphqlClient\";\nimport { UserIdContext } from \"../../utils/context/UserIdContext\";\nimport { colors } from \"../../styles/colors\";\nimport Autocomplete from 'react-native-autocomplete-input';\nexport default function EditNameView(props) {\n  var _useContext = useContext(UserIdContext),\n      _useContext2 = _slicedToArray(_useContext, 2),\n      userId = _useContext2[0],\n      setUserId = _useContext2[1];\n\n  var _useState = useState(props.route.params.college),\n      _useState2 = _slicedToArray(_useState, 2),\n      college = _useState2[0],\n      setCollege = _useState2[1];\n\n  var _useMutation = useMutation(UPDATE_COLLEGE),\n      _useMutation2 = _slicedToArray(_useMutation, 2),\n      updateCollege = _useMutation2[0],\n      updateCollegeData = _useMutation2[1].updateCollegeData;\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      submitHidden = _useState4[0],\n      setSubmitHidden = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      colleges = _useState6[0],\n      setColleges = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      filteredColleges = _useState8[0],\n      setFilteredColleges = _useState8[1];\n\n  var _useState9 = useState(true),\n      _useState10 = _slicedToArray(_useState9, 2),\n      hideResults = _useState10[0],\n      setHideResults = _useState10[1];\n\n  var _useState11 = useState(null),\n      _useState12 = _slicedToArray(_useState11, 2),\n      collegeId = _useState12[0],\n      setCollegeId = _useState12[1];\n\n  var _useState13 = useState(null),\n      _useState14 = _slicedToArray(_useState13, 2),\n      collegeLatitude = _useState14[0],\n      setCollegeLatitude = _useState14[1];\n\n  var _useState15 = useState(null),\n      _useState16 = _slicedToArray(_useState15, 2),\n      collegeLongitude = _useState16[0],\n      setCollegeLongitude = _useState16[1];\n\n  var _useLazyQuery = useLazyQuery(GET_COLLEGES, {\n    onCompleted: function onCompleted(collegeData) {\n      processColleges(collegeData);\n    }\n  }),\n      _useLazyQuery2 = _slicedToArray(_useLazyQuery, 2),\n      getColleges = _useLazyQuery2[0],\n      collegeData = _useLazyQuery2[1].data;\n\n  useEffect(function () {\n    getColleges();\n  }, []);\n  useEffect(function () {\n    props.navigation.addListener('focus', function () {\n      getColleges();\n    });\n  }, [props.navigation]);\n\n  function processColleges(collegeData) {\n    setColleges(collegeData.colleges);\n    setFilteredColleges(collegeData.colleges);\n  }\n\n  function onSubmit() {\n    _storeCollege(college);\n\n    _storeCollegeLatitude(collegeLatitude);\n\n    _storeCollegeLongitude(collegeLongitude);\n\n    updateCollege({\n      variables: {\n        userId: userId,\n        college: college,\n        collegeId: collegeId\n      }\n    });\n    props.navigation.goBack();\n  }\n\n  function handleSelectItem(item) {\n    setCollege(item.name);\n    setCollegeId(item.id);\n    setCollegeLatitude(item.latitude);\n    setCollegeLongitude(item.longitude);\n    setHideResults(true);\n    setSubmitHidden(false);\n  }\n\n  function handleChangeText(item) {\n    setCollege(item);\n    setHideResults(false);\n    setSubmitHidden(true);\n    var filteredColleges = colleges.filter(function (college) {\n      return college.name.toLowerCase().match(item.toLowerCase()) || college.nickname.toLowerCase().match(item.toLowerCase());\n    });\n    setFilteredColleges(filteredColleges);\n  }\n\n  function SubmitButton() {\n    if (submitHidden) {\n      return null;\n    } else {\n      return React.createElement(View, {\n        style: {\n          paddingTop: '5%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: onSubmit,\n        style: styles.submitContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: styles.submitText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 25\n        }\n      }, \"Submit\")));\n    }\n  }\n\n  if (filteredColleges) {\n    return React.createElement(TouchableWithoutFeedback, {\n      onPress: Keyboard.dismiss,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }\n    }, React.createElement(View, {\n      style: {\n        backgroundColor: colors.primaryBlack,\n        flex: 1,\n        alignItems: 'center',\n        paddingTop: 30\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, React.createElement(Autocomplete, {\n      data: filteredColleges,\n      defaultValue: college,\n      onChangeText: function onChangeText(item) {\n        return handleChangeText(item);\n      },\n      hideResults: hideResults,\n      renderItem: function renderItem(_ref) {\n        var item = _ref.item;\n        return React.createElement(TouchableOpacity, {\n          onPress: function onPress() {\n            return handleSelectItem(item);\n          },\n          style: {\n            height: 40,\n            justifyContent: 'center'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 29\n          }\n        }, React.createElement(Text, {\n          style: {\n            color: primaryColor,\n            fontSize: 14\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 33\n          }\n        }, item.name, \" (\", item.nickname, \")\"));\n      },\n      containerStyle: {\n        width: '100%'\n      },\n      keyExtractor: function keyExtractor(item) {\n        return item.id.toString();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }\n    }), React.createElement(SubmitButton, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }\n    })));\n  } else {\n    return React.createElement(TouchableWithoutFeedback, {\n      onPress: Keyboard.dismiss,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }\n    }, React.createElement(View, {\n      style: {\n        backgroundColor: colors.primaryBlack,\n        flex: 1,\n        alignItems: 'center',\n        paddingTop: 30\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }, React.createElement(TextInput, {\n      style: {\n        borderWidth: 1,\n        width: '100%',\n        borderRadius: 2,\n        height: '6%',\n        color: colors.primaryBlack,\n        borderColor: colors.secondaryWhite,\n        backgroundColor: colors.secondaryWhite,\n        fontSize: 14,\n        paddingLeft: 5\n      },\n      autoFocus: true,\n      onChangeText: function onChangeText(text) {\n        return setCollege(text);\n      },\n      value: college,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 21\n      }\n    }), React.createElement(View, {\n      style: {\n        paddingTop: '5%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }\n    }, React.createElement(TouchableOpacity, {\n      onPress: onSubmit,\n      style: styles.submitContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 25\n      }\n    }, React.createElement(Text, {\n      style: styles.submitText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 29\n      }\n    }, \"Submit\")))));\n  }\n}\nvar primaryColor = colors.primaryPurple;\nvar secondaryColor = colors.secondaryWhite;\nvar styles = StyleSheet.create({\n  submitContainer: {\n    backgroundColor: colors.primaryWhite,\n    borderRadius: 5,\n    borderWidth: 1,\n    borderColor: colors.primaryWhite,\n    width: 150,\n    height: 40,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  submitText: {\n    fontSize: 14,\n    color: colors.secondaryBlack,\n    fontWeight: 'bold'\n  }\n});","map":{"version":3,"sources":["/Users/vaibhavverma9/Desktop/realtalk-app/dating-app/app/components/videosPage/EditCollegeView.tsx"],"names":["React","useState","useContext","useEffect","_storeCollege","_storeCollegeLatitude","_storeCollegeLongitude","useMutation","useLazyQuery","UPDATE_COLLEGE","GET_COLLEGES","UserIdContext","colors","Autocomplete","EditNameView","props","userId","setUserId","route","params","college","setCollege","updateCollege","updateCollegeData","submitHidden","setSubmitHidden","colleges","setColleges","filteredColleges","setFilteredColleges","hideResults","setHideResults","collegeId","setCollegeId","collegeLatitude","setCollegeLatitude","collegeLongitude","setCollegeLongitude","onCompleted","collegeData","processColleges","getColleges","data","navigation","addListener","onSubmit","variables","goBack","handleSelectItem","item","name","id","latitude","longitude","handleChangeText","filter","toLowerCase","match","nickname","SubmitButton","paddingTop","styles","submitContainer","submitText","Keyboard","dismiss","backgroundColor","primaryBlack","flex","alignItems","height","justifyContent","color","primaryColor","fontSize","width","toString","borderWidth","borderRadius","borderColor","secondaryWhite","paddingLeft","text","primaryPurple","secondaryColor","StyleSheet","create","primaryWhite","secondaryBlack","fontWeight"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport { View, Text, TextInput, TouchableWithoutFeedback, TouchableOpacity, Keyboard, StyleSheet } from 'react-native';\nimport { _storeCollege, _storeCollegeLatitude, _storeCollegeLongitude  } from '../../utils/asyncStorage';\nimport { useMutation, useLazyQuery } from '@apollo/client';\nimport { UPDATE_COLLEGE, GET_COLLEGES } from '../../utils/graphql/GraphqlClient';\nimport { UserIdContext } from '../../utils/context/UserIdContext'\nimport { colors } from '../../styles/colors';\nimport Autocomplete from 'react-native-autocomplete-input';\n\nexport default function EditNameView(props) {\n\n    const [userId, setUserId] = useContext(UserIdContext);\n    const [college, setCollege] = useState(props.route.params.college); \n    const [updateCollege, { updateCollegeData }] = useMutation(UPDATE_COLLEGE);\n    const [submitHidden, setSubmitHidden] = useState(true); \n    const [colleges, setColleges] = useState(null); \n    const [filteredColleges, setFilteredColleges] = useState(null); \n    const [hideResults, setHideResults] = useState(true); \n    const [collegeId, setCollegeId] = useState(null); \n    const [collegeLatitude, setCollegeLatitude] = useState(null); \n    const [collegeLongitude, setCollegeLongitude] = useState(null); \n\n    const [getColleges, { data: collegeData }] = useLazyQuery(GET_COLLEGES, \n        { \n          onCompleted: (collegeData) => { processColleges(collegeData) } \n    }); \n\n    useEffect(() => {\n        getColleges(); \n    }, []);\n\n    useEffect(() => {\n        props.navigation.addListener('focus', () => {\n            getColleges(); \n        });  \n      }, [props.navigation]);\n\n    function processColleges(collegeData){\n        setColleges(collegeData.colleges); \n        setFilteredColleges(collegeData.colleges);\n    }\n\n\n    function onSubmit(){\n        _storeCollege(college); \n        _storeCollegeLatitude(collegeLatitude);\n        _storeCollegeLongitude(collegeLongitude);  \n        updateCollege({ variables: { userId, college, collegeId: collegeId }});\n        props.navigation.goBack(); \n    }\n\n    function handleSelectItem(item){\n        setCollege(item.name); \n        setCollegeId(item.id); \n        setCollegeLatitude(item.latitude);\n        setCollegeLongitude(item.longitude); \n        setHideResults(true); \n        setSubmitHidden(false); \n    }\n\n    function handleChangeText(item){\n        setCollege(item); \n        setHideResults(false);\n        setSubmitHidden(true); \n        const filteredColleges = colleges.filter(college => {\n            return college.name.toLowerCase().match( item.toLowerCase() ) || college.nickname.toLowerCase().match( item.toLowerCase() );\n        });\n        setFilteredColleges(filteredColleges); \n    }\n\n    function SubmitButton(){\n        if(submitHidden){\n            return null;\n        } else {\n            return (\n                <View style={{ paddingTop: '5%' }}>\n                    <TouchableOpacity onPress={onSubmit} style={styles.submitContainer}>\n                        <Text style={styles.submitText}>Submit</Text>\n                    </TouchableOpacity>\n                </View>\n            )\n        }\n    }\n\n    if(filteredColleges) {\n        return (\n            <TouchableWithoutFeedback onPress={Keyboard.dismiss}>\n                <View style={{ backgroundColor: colors.primaryBlack, flex: 1, alignItems: 'center', paddingTop: 30 }}>\n                    <Autocomplete\n                        data={filteredColleges}\n                        defaultValue={college}\n                        onChangeText={item => handleChangeText(item)}\n                        hideResults={hideResults}\n                        renderItem={({ item }) => (\n                            <TouchableOpacity \n                                onPress={() => handleSelectItem(item)}\n                                style={{ height: 40, justifyContent: 'center'}}\n                            >\n                                <Text style={{ color: primaryColor, fontSize: 14}}>{item.name} ({item.nickname})</Text>\n                            </TouchableOpacity>\n                        )}\n                        containerStyle={{ width: '100%'}}\n                        keyExtractor={(item) => item.id.toString()}\n                    />\n                    <SubmitButton />\n                </View> \n            </TouchableWithoutFeedback>\n        )\n    } else {\n        return (\n            <TouchableWithoutFeedback onPress={Keyboard.dismiss}>\n                <View style={{ backgroundColor: colors.primaryBlack, flex: 1, alignItems: 'center', paddingTop: 30 }}>\n                    <TextInput\n                        style={{ \n                            borderWidth: 1,\n                            width: '100%',\n                            borderRadius: 2,\n                            height: '6%',\n                            color: colors.primaryBlack,  \n                            borderColor: colors.secondaryWhite,\n                            backgroundColor: colors.secondaryWhite, \n                            fontSize: 14,\n                            paddingLeft: 5\n                        }}\n                        autoFocus={true}\n                        onChangeText={text => setCollege(text)}\n                        value={college}\n                    />\n                    <View style={{ paddingTop: '5%' }}>\n                        <TouchableOpacity onPress={onSubmit} style={styles.submitContainer}>\n                            <Text style={styles.submitText}>Submit</Text>\n                        </TouchableOpacity>\n                    </View>\n                </View> \n            </TouchableWithoutFeedback>\n        )\n    }\n}\n\nconst primaryColor = colors.primaryPurple;\nconst secondaryColor = colors.secondaryWhite; \n\nconst styles = StyleSheet.create({\n    submitContainer: { \n        backgroundColor: colors.primaryWhite, \n        borderRadius: 5,\n        borderWidth: 1,\n        borderColor: colors.primaryWhite,\n        width: 150,\n        height: 40, \n        justifyContent: 'center', \n        alignItems: 'center'\n    }, \n    submitText: {\n        fontSize: 14,\n        color: colors.secondaryBlack,\n        fontWeight: 'bold'\n    }\n});"]},"metadata":{},"sourceType":"module"}